# Работа с файлами JSON

Здесь описаны общие принципы работы с файлами JSON.

## JSON Schema

[Согласно спецификации][js] JSON Schema это возможность описать JSON документ для его дальнейшей валидации. Все основные JSON файлы ICOD, имеют такие схемы. Это может помочь вам создавать или расширять JSON файлы не изучая какие параметры возможно вводить, так как редактор сам выдаст вам подсказку.

Файлы схем находятся в папке `tools/json-schemas`. Схемы существуют для фалов:

- `meta.json` - Метаданные модуля
- `acl.json` - ACL правила модуля. Этот файл не только для документации, но и для автоматического управления праввилами и правами доступа.
- `*.api.json` - Описание метода API. Этот файл не только для автоматической документации, но и для авто генерации интерфейса для проверки методов API, автоматической фильтрации входящих параметров, автоматической валидации входящих параметров, и кто знает для каких еще полезностей позже.

Вот список редакторов которые поддерживают работу с файлами схем JSON.

- [Visual Studio Code][vsc] - **Рекомендуем** Тут все заработает автоматически так как в проекте уже есть папка `.vscode` в которой есть файл `settings.json` в котором все связи уже используются. Мы Рекомендуем использовать именно этот редактор для редактирования JSON файлов.
- [Visual Studio 2015][vs] - Вам придется перетаскивать схему что бы ее активировать. Смотрите [тут][vss].
- [PHPStorm][ps] - Начиная с версии 2016.2 PHPStorm поддерживает схемы JSON. Вот [инструкция][psi] как это настроить.

## Поддержка Markdown

JSON файлы ICOD, используются для генерации автоматической документации на API для разработчиков, автоматической валидации запросов к точке доступа, фильтрации и проверке присылаемых параметров. Очень важно что бы вы создавали JSON файлы как можно подробнее.

Все поля с ключом `description` поддерживают Markdown. Например

```json
{
	"version": "0.1",
	"title": "Application",
	"is_core": true,
	"description": "This is **main** application module. [Read this](http://your.url)"
}
```

Если вы хотите использовать подробное описание включая новые строки, примеры кода, таблицы, списки, и т.д. то вы можете как значение поля `description` ввести имя файла Markdown. Например:

```json
{
	"version": "0.1",
	"title": "Application",
	"is_core": true,
	"description": "readme.md"
}
```

При генерации документации, или передачи данных клиенту, ICOD, проверит наличие такого файла в папке `Docs` в корне вашего модуля и вставить эти данные в это поле.

[ps]: https://www.jetbrains.com/phpstorm/
[psi]: https://www.jetbrains.com/help/phpstorm/2016.2/json-schema.html
[vss]: https://blogs.msdn.microsoft.com/webdev/2014/04/10/intellisense-for-json-schema-in-the-json-editor/
[vsc]: https://code.visualstudio.com/
[vs]: https://www.visualstudio.com/
[js]: http://json-schema.org/
